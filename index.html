<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>سيرك - تطبيق الشات الجماعي | Circl - Group Chat App</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        :root {
            --primary: #6C63FF;
            --primary-dark: #5A52D3;
            --secondary: #FF6584;
            --dark: #2A2D43;
            --light: #F8F9FA;
            --gray: #E0E0E0;
            --gray-dark: #9E9E9E;
            --success: #4CAF50;
            --warning: #FF9800;
            --danger: #F44336;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --radius: 16px;
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', 'Poppins', sans-serif;
            background-color: var(--light);
            color: var(--dark);
            overflow-x: hidden;
            height: 100vh;
            max-width: 500px;
            margin: 0 auto;
            position: relative;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);
        }

        /* شريط الحالة العلوي */
        .status-bar {
            background-color: var(--dark);
            color: white;
            padding: 8px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 14px;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .status-icons {
            display: flex;
            gap: 8px;
        }

        .time-display {
            font-weight: 600;
        }

        /* رأس التطبيق */
        .app-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 18px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 44px;
            z-index: 99;
        }

        .app-header .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .app-header .logo h1 {
            font-size: 24px;
            font-weight: 700;
        }

        .app-header .logo-icon {
            font-size: 28px;
            color: var(--secondary);
        }

        .header-actions {
            display: flex;
            gap: 16px;
        }

        .header-actions i {
            font-size: 20px;
            cursor: pointer;
            transition: var(--transition);
        }

        .header-actions i:hover {
            transform: scale(1.1);
        }

        /* التنقل السفلي */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: white;
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.05);
            border-top-left-radius: var(--radius);
            border-top-right-radius: var(--radius);
            z-index: 100;
            max-width: 500px;
            margin: 0 auto;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            cursor: pointer;
            transition: var(--transition);
            flex: 1;
            color: var(--gray-dark);
        }

        .nav-item.active {
            color: var(--primary);
        }

        .nav-item:hover {
            transform: translateY(-2px);
        }

        .nav-item i {
            font-size: 20px;
        }

        .nav-item span {
            font-size: 12px;
            font-weight: 500;
        }

        /* المحتوى الرئيسي */
        .main-content {
            padding: 16px;
            padding-bottom: 80px;
            min-height: calc(100vh - 130px);
            overflow-y: auto;
            background-color: #f5f7fb;
        }

        /* شاشة الدردشات */
        .chats-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .chat-card {
            background-color: white;
            border-radius: var(--radius);
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 14px;
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: var(--transition);
            position: relative;
        }

        .chat-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
        }

        .chat-card.unread::after {
            content: '';
            position: absolute;
            top: 18px;
            left: 18px;
            width: 12px;
            height: 12px;
            background-color: var(--primary);
            border-radius: 50%;
        }

        .chat-avatar {
            width: 56px;
            height: 56px;
            border-radius: 50%;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            font-size: 22px;
            font-weight: 600;
            flex-shrink: 0;
        }

        .chat-info {
            flex: 1;
        }

        .chat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 6px;
        }

        .chat-name {
            font-size: 16px;
            font-weight: 600;
            color: var(--dark);
        }

        .chat-time {
            font-size: 12px;
            color: var(--gray-dark);
        }

        .chat-preview {
            font-size: 14px;
            color: var(--gray-dark);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .unread-count {
            background-color: var(--primary);
            color: white;
            font-size: 12px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        /* شاشة الدردشة */
        .chat-screen {
            display: none;
            flex-direction: column;
            height: calc(100vh - 130px);
        }

        .chat-header-bar {
            background-color: white;
            padding: 16px;
            display: flex;
            align-items: center;
            gap: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            position: sticky;
            top: 44px;
            z-index: 10;
        }

        .back-button {
            font-size: 20px;
            cursor: pointer;
            color: var(--primary);
        }

        .chat-header-info {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }

        .chat-header-info .chat-avatar {
            width: 44px;
            height: 44px;
            font-size: 18px;
        }

        .chat-status {
            font-size: 12px;
            color: var(--success);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .chat-status::before {
            content: '';
            width: 8px;
            height: 8px;
            background-color: var(--success);
            border-radius: 50%;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px 16px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .message {
            display: flex;
            max-width: 80%;
            animation: fadeIn 0.3s ease;
        }

        .message.sent {
            align-self: flex-end;
            flex-direction: row-reverse;
        }

        .message.received {
            align-self: flex-start;
        }

        .message-content {
            padding: 12px 16px;
            border-radius: 20px;
            position: relative;
            word-wrap: break-word;
        }

        .message.sent .message-content {
            background-color: var(--primary);
            color: white;
            border-bottom-right-radius: 4px;
        }

        .message.received .message-content {
            background-color: white;
            color: var(--dark);
            border-bottom-left-radius: 4px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
        }

        .message-time {
            font-size: 11px;
            color: var(--gray-dark);
            margin-top: 4px;
            display: block;
            text-align: right;
        }

        .message.received .message-time {
            text-align: left;
        }

        .message-input-container {
            padding: 12px 16px;
            background-color: white;
            display: flex;
            gap: 12px;
            align-items: center;
            border-top: 1px solid var(--gray);
        }

        .message-input {
            flex: 1;
            border: 1px solid var(--gray);
            border-radius: 24px;
            padding: 12px 18px;
            font-family: inherit;
            font-size: 14px;
            outline: none;
            transition: var(--transition);
        }

        .message-input:focus {
            border-color: var(--primary);
        }

        .send-button {
            background-color: var(--primary);
            color: white;
            border: none;
            width: 46px;
            height: 46px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .send-button:hover {
            background-color: var(--primary-dark);
            transform: scale(1.05);
        }

        /* شاشة المجموعات */
        .groups-container {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        .group-card {
            background-color: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            cursor: pointer;
            transition: var(--transition);
        }

        .group-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }

        .group-banner {
            height: 100px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 32px;
        }

        .group-avatar {
            position: absolute;
            bottom: -25px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background-color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 24px;
            font-weight: 700;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            border: 3px solid white;
        }

        .group-info {
            padding: 30px 16px 16px;
        }

        .group-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 6px;
            color: var(--dark);
        }

        .group-members {
            font-size: 13px;
            color: var(--gray-dark);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        /* شاشة الإعدادات */
        .settings-container {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .settings-section {
            background-color: white;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
        }

        .section-title {
            padding: 16px;
            font-size: 18px;
            font-weight: 600;
            color: var(--dark);
            border-bottom: 1px solid var(--gray);
        }

        .settings-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            cursor: pointer;
            transition: var(--transition);
        }

        .settings-item:hover {
            background-color: rgba(0, 0, 0, 0.02);
        }

        .settings-item-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .settings-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(108, 99, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 18px;
        }

        .settings-text h3 {
            font-size: 16px;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 2px;
        }

        .settings-text p {
            font-size: 13px;
            color: var(--gray-dark);
        }

        .toggle-switch {
            position: relative;
            width: 50px;
            height: 26px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--gray);
            transition: var(--transition);
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 20px;
            width: 20px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: var(--transition);
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary);
        }

        input:checked + .slider:before {
            transform: translateX(24px);
        }

        /* شاشة الملف الشخصي */
        .profile-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px 16px;
            background-color: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            margin-top: 20px;
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 20px;
            border: 5px solid white;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
        }

        .profile-name {
            font-size: 24px;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 6px;
        }

        .profile-status {
            font-size: 14px;
            color: var(--gray-dark);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .profile-status::before {
            content: '';
            width: 10px;
            height: 10px;
            background-color: var(--success);
            border-radius: 50%;
        }

        .profile-stats {
            display: flex;
            justify-content: space-around;
            width: 100%;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--gray);
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-label {
            font-size: 14px;
            color: var(--gray-dark);
        }

        /* لغة التطبيق */
        .language-switcher {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .lang-btn {
            padding: 10px 24px;
            border-radius: 30px;
            background-color: white;
            border: 2px solid var(--gray);
            font-family: inherit;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .lang-btn.active {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* الرسوم المتحركة */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* الطبقات المخفية */
        .hidden {
            display: none !important;
        }

        /* التأكد من أن المحتوى مرئي على الأجهزة المحمولة */
        @media (max-width: 500px) {
            body {
                border-radius: 0;
            }
            
            .bottom-nav {
                border-radius: 0;
            }
        }

        /* التأكد من دعم اللغة العربية */
        [dir="rtl"] .message.sent .message-content {
            border-bottom-left-radius: 4px;
            border-bottom-right-radius: 20px;
        }

        [dir="rtl"] .message.received .message-content {
            border-bottom-right-radius: 4px;
            border-bottom-left-radius: 20px;
        }
    </style>
</head>
<body>
    <!-- شريط الحالة العلوي -->
    <div class="status-bar">
        <div class="time-display" id="current-time">09:45</div>
        <div class="status-icons">
            <i class="fas fa-signal"></i>
            <i class="fas fa-wifi"></i>
            <i class="fas fa-battery-full"></i>
        </div>
    </div>

    <!-- رأس التطبيق -->
    <header class="app-header">
        <div class="logo">
            <div class="logo-icon">○</div>
            <h1>سيرك | Circl</h1>
        </div>
        <div class="header-actions">
            <i class="fas fa-search" id="search-btn"></i>
            <i class="fas fa-user-plus" id="add-contact-btn"></i>
            <i class="fas fa-cog" id="settings-btn"></i>
        </div>
    </header>

    <!-- المحتوى الرئيسي -->
    <main class="main-content" id="main-content">
        <!-- شاشة الدردشات (الرئيسية) -->
        <div class="content-section active" id="chats-section">
            <h2 style="margin-bottom: 20px; color: var(--dark); font-size: 22px;">الدردشات</h2>
            <div class="chats-container" id="chats-container">
                <!-- سيتم ملء الدردشات بواسطة JavaScript -->
            </div>
        </div>

        <!-- شاشة المجموعات -->
        <div class="content-section hidden" id="groups-section">
            <h2 style="margin-bottom: 20px; color: var(--dark); font-size: 22px;">المجموعات</h2>
            <div class="groups-container" id="groups-container">
                <!-- سيتم ملء المجموعات بواسطة JavaScript -->
            </div>
        </div>

        <!-- شاشة الملف الشخصي -->
        <div class="content-section hidden" id="profile-section">
            <div class="profile-container">
                <div class="profile-avatar" id="user-avatar">م</div>
                <h2 class="profile-name" id="user-name">محمد أحمد</h2>
                <div class="profile-status" id="user-status">متصل الآن</div>
                
                <div class="profile-stats">
                    <div class="stat-item">
                        <span class="stat-value" id="friends-count">147</span>
                        <span class="stat-label">الأصدقاء</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="groups-count">12</span>
                        <span class="stat-label">المجموعات</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-value" id="messages-count">2.3k</span>
                        <span class="stat-label">الرسائل</span>
                    </div>
                </div>
                
                <div class="language-switcher">
                    <button class="lang-btn active" id="lang-ar">العربية</button>
                    <button class="lang-btn" id="lang-en">English</button>
                </div>
            </div>
        </div>

        <!-- شاشة الإعدادات -->
        <div class="content-section hidden" id="settings-section">
            <h2 style="margin-bottom: 20px; color: var(--dark); font-size: 22px;">الإعدادات</h2>
            <div class="settings-container">
                <div class="settings-section">
                    <div class="section-title">الحساب</div>
                    <div class="settings-item" id="edit-profile-btn">
                        <div class="settings-item-left">
                            <div class="settings-icon">
                                <i class="fas fa-user-edit"></i>
                            </div>
                            <div class="settings-text">
                                <h3>تعديل الملف الشخصي</h3>
                                <p>تغيير الصورة والمعلومات الشخصية</p>
                            </div>
                        </div>
                        <i class="fas fa-chevron-left"></i>
                    </div>
                    <div class="settings-item" id="privacy-btn">
                        <div class="settings-item-left">
                            <div class="settings-icon">
                                <i class="fas fa-lock"></i>
                            </div>
                            <div class="settings-text">
                                <h3>الخصوصية</h3>
                                <p>إدارة إعدادات الخصوصية والأمان</p>
                            </div>
                        </div>
                        <i class="fas fa-chevron-left"></i>
                    </div>
                </div>

                <div class="settings-section">
                    <div class="section-title">التطبيق</div>
                    <div class="settings-item">
                        <div class="settings-item-left">
                            <div class="settings-icon">
                                <i class="fas fa-bell"></i>
                            </div>
                            <div class="settings-text">
                                <h3>الإشعارات</h3>
                                <p>إدارة إشعارات التطبيق</p>
                            </div>
                        </div>
                        <div class="toggle-switch">
                            <input type="checkbox" id="notifications-toggle" checked>
                            <label for="notifications-toggle" class="slider"></label>
                        </div>
                    </div>
                    <div class="settings-item">
                        <div class="settings-item-left">
                            <div class="settings-icon">
                                <i class="fas fa-palette"></i>
                            </div>
                            <div class="settings-text">
                                <h3>المظهر</h3>
                                <p>تغيير سمة التطبيق</p>
                            </div>
                        </div>
                        <i class="fas fa-chevron-left"></i>
                    </div>
                    <div class="settings-item">
                        <div class="settings-item-left">
                            <div class="settings-icon">
                                <i class="fas fa-language"></i>
                            </div>
                            <div class="settings-text">
                                <h3>اللغة</h3>
                                <p>تغيير لغة التطبيق</p>
                            </div>
                        </div>
                        <div class="toggle-switch">
                            <input type="checkbox" id="language-toggle">
                            <label for="language-toggle" class="slider"></label>
                        </div>
                    </div>
                </div>

                <div class="settings-section">
                    <div class="section-title">عام</div>
                    <div class="settings-item" id="help-btn">
                        <div class="settings-item-left">
                            <div class="settings-icon">
                                <i class="fas fa-question-circle"></i>
                            </div>
                            <div class="settings-text">
                                <h3>المساعدة والدعم</h3>
                                <p>الدليل ومركز المساعدة</p>
                            </div>
                        </div>
                        <i class="fas fa-chevron-left"></i>
                    </div>
                    <div class="settings-item" id="about-btn">
                        <div class="settings-item-left">
                            <div class="settings-icon">
                                <i class="fas fa-info-circle"></i>
                            </div>
                            <div class="settings-text">
                                <h3>حول التطبيق</h3>
                                <p>إصدار التطبيق والمعلومات</p>
                            </div>
                        </div>
                        <i class="fas fa-chevron-left"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- شاشة الدردشة الفردية -->
        <div class="chat-screen hidden" id="chat-screen">
            <div class="chat-header-bar">
                <div class="back-button" id="back-to-chats">
                    <i class="fas fa-arrow-right"></i>
                </div>
                <div class="chat-header-info">
                    <div class="chat-avatar" id="chat-with-avatar">م</div>
                    <div>
                        <div class="chat-name" id="chat-with-name">محمد أحمد</div>
                        <div class="chat-status" id="chat-with-status">متصل الآن</div>
                    </div>
                </div>
                <div class="header-actions">
                    <i class="fas fa-phone"></i>
                    <i class="fas fa-video"></i>
                    <i class="fas fa-ellipsis-v"></i>
                </div>
            </div>

            <div class="chat-messages" id="chat-messages">
                <!-- سيتم ملء الرسائل بواسطة JavaScript -->
            </div>

            <div class="message-input-container">
                <i class="fas fa-plus-circle" style="font-size: 24px; color: var(--primary); cursor: pointer;"></i>
                <input type="text" class="message-input" id="message-input" placeholder="اكتب رسالة...">
                <button class="send-button" id="send-message-btn">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </main>

    <!-- التنقل السفلي -->
    <nav class="bottom-nav">
        <div class="nav-item active" data-section="chats-section">
            <i class="fas fa-comments"></i>
            <span>الدردشات</span>
        </div>
        <div class="nav-item" data-section="groups-section">
            <i class="fas fa-users"></i>
            <span>المجموعات</span>
        </div>
        <div class="nav-item" data-section="profile-section">
            <i class="fas fa-user"></i>
            <span>الملف الشخصي</span>
        </div>
        <div class="nav-item" data-section="settings-section">
            <i class="fas fa-cog"></i>
            <span>الإعدادات</span>
        </div>
    </nav>

    <script>
        // البيانات الأولية للتطبيق
        const appData = {
            currentLanguage: 'ar',
            currentUser: {
                name: 'محمد أحمد',
                avatar: 'م',
                status: 'متصل الآن'
            },
            chats: [
                {
                    id: 1,
                    name: 'مجموعة العائلة',
                    avatar: 'ع',
                    lastMessage: 'متى اجتماع العائلة؟',
                    time: '09:30',
                    unread: 5,
                    isGroup: true,
                    members: 12
                },
                {
                    id: 2,
                    name: 'أحمد خالد',
                    avatar: 'أ',
                    lastMessage: 'شكرًا على المساعدة!',
                    time: 'أمس',
                    unread: 0,
                    isGroup: false
                },
                {
                    id: 3,
                    name: 'فريق العمل',
                    avatar: 'ف',
                    lastMessage: 'الاجتماع في الساعة 2',
                    time: 'الجمعة',
                    unread: 12,
                    isGroup: true,
                    members: 8
                },
                {
                    id: 4,
                    name: 'سارة محمد',
                    avatar: 'س',
                    lastMessage: 'هل رأيت الفيلم الجديد؟',
                    time: 'الخميس',
                    unread: 0,
                    isGroup: false
                },
                {
                    id: 5,
                    name: 'أصدقاء الجامعة',
                    avatar: 'ص',
                    lastMessage: 'نلتقي في المطعم الساعة 7',
                    time: 'الأربعاء',
                    unread: 3,
                    isGroup: true,
                    members: 20
                }
            ],
            groups: [
                {
                    id: 1,
                    name: 'مجموعة العائلة',
                    avatar: 'ع',
                    members: 12,
                    color: '#6C63FF'
                },
                {
                    id: 2,
                    name: 'فريق العمل',
                    avatar: 'ف',
                    members: 8,
                    color: '#FF6584'
                },
                {
                    id: 3,
                    name: 'أصدقاء الجامعة',
                    avatar: 'ص',
                    members: 20,
                    color: '#4CAF50'
                },
                {
                    id: 4,
                    name: 'نادي القراءة',
                    avatar: 'ن',
                    members: 15,
                    color: '#FF9800'
                },
                {
                    id: 5,
                    name: 'مشروع التخرج',
                    avatar: 'م',
                    members: 5,
                    color: '#9C27B0'
                },
                {
                    id: 6,
                    name: 'السفر والسياحة',
                    avatar: 'س',
                    members: 25,
                    color: '#2196F3'
                }
            ],
            messages: [
                {
                    id: 1,
                    chatId: 1,
                    sender: 'الأم',
                    content: 'مرحبًا جميعًا، متى اجتماع العائلة القادم؟',
                    time: '09:15',
                    sent: false
                },
                {
                    id: 2,
                    chatId: 1,
                    sender: 'أنت',
                    content: 'أقترح يوم السعة القادم',
                    time: '09:20',
                    sent: true
                },
                {
                    id: 3,
                    chatId: 1,
                    sender: 'الأخ',
                    content: 'أنا موافق، عندي إجازة نهاية الأسبوع',
                    time: '09:25',
                    sent: false
                },
                {
                    id: 4,
                    chatId: 1,
                    sender: 'الأخت',
                    content: 'أي مطعم تفضلون؟',
                    time: '09:30',
                    sent: false
                }
            ],
            currentChatId: null,
            englishData: {
                appName: 'Circl',
                chats: 'Chats',
                groups: 'Groups',
                profile: 'Profile',
                settings: 'Settings',
                online: 'Online',
                typeMessage: 'Type a message...',
                editProfile: 'Edit Profile',
                privacy: 'Privacy',
                notifications: 'Notifications',
                appearance: 'Appearance',
                language: 'Language',
                help: 'Help & Support',
                about: 'About',
                friends: 'Friends',
                messages: 'Messages'
            }
        };

        // تهيئة التطبيق عند تحميل الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            // تحديث الوقت
            updateTime();
            setInterval(updateTime, 60000);
            
            // تحميل الدردشات
            loadChats();
            
            // تحميل المجموعات
            loadGroups();
            
            // إعداد معالجات الأحداث
            setupEventListeners();
            
            // إعداد معالج اللغة
            setupLanguageSwitcher();
        });

        // تحديث الوقت الحالي
        function updateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString('ar-EG', { hour: '2-digit', minute: '2-digit' });
            document.getElementById('current-time').textContent = timeString;
        }

        // تحميل قائمة الدردشات
        function loadChats() {
            const chatsContainer = document.getElementById('chats-container');
            chatsContainer.innerHTML = '';
            
            appData.chats.forEach(chat => {
                const chatElement = document.createElement('div');
                chatElement.className = `chat-card ${chat.unread > 0 ? 'unread' : ''}`;
                chatElement.dataset.chatId = chat.id;
                
                chatElement.innerHTML = `
                    <div class="chat-avatar" style="background: ${getAvatarColor(chat.name)};">${chat.avatar}</div>
                    <div class="chat-info">
                        <div class="chat-header">
                            <div class="chat-name">${chat.name}</div>
                            <div class="chat-time">${chat.time}</div>
                        </div>
                        <div class="chat-preview">
                            <span>${chat.lastMessage}</span>
                            ${chat.unread > 0 ? `<span class="unread-count">${chat.unread}</span>` : ''}
                        </div>
                    </div>
                `;
                
                chatElement.addEventListener('click', () => openChat(chat.id));
                chatsContainer.appendChild(chatElement);
            });
        }

        // تحميل قائمة المجموعات
        function loadGroups() {
            const groupsContainer = document.getElementById('groups-container');
            groupsContainer.innerHTML = '';
            
            appData.groups.forEach(group => {
                const groupElement = document.createElement('div');
                groupElement.className = 'group-card';
                groupElement.dataset.groupId = group.id;
                
                groupElement.innerHTML = `
                    <div class="group-banner" style="background: ${group.color};">
                        <div class="group-avatar">${group.avatar}</div>
                    </div>
                    <div class="group-info">
                        <div class="group-name">${group.name}</div>
                        <div class="group-members">
                            <i class="fas fa-users"></i>
                            ${group.members} أعضاء
                        </div>
                    </div>
                `;
                
                groupElement.addEventListener('click', () => openGroup(group.id));
                groupsContainer.appendChild(groupElement);
            });
        }

        // فتح دردشة معينة
        function openChat(chatId) {
            const chat = appData.chats.find(c => c.id === chatId);
            if (!chat) return;
            
            // حفظ معرف الدردشة الحالية
            appData.currentChatId = chatId;
            
            // تحديث معلومات الدردشة في الشاشة
            document.getElementById('chat-with-avatar').textContent = chat.avatar;
            document.getElementById('chat-with-avatar').style.background = getAvatarColor(chat.name);
            document.getElementById('chat-with-name').textContent = chat.name;
            
            // تحميل الرسائل
            loadMessages(chatId);
            
            // تبديل الشاشة
            document.getElementById('chats-section').classList.add('hidden');
            document.getElementById('chat-screen').classList.remove('hidden');
        }

        // تحميل رسائل دردشة معينة
        function loadMessages(chatId) {
            const messagesContainer = document.getElementById('chat-messages');
            messagesContainer.innerHTML = '';
            
            // تصفية الرسائل الخاصة بهذه الدردشة
            const chatMessages = appData.messages.filter(m => m.chatId === chatId);
            
            // إضافة رسائل الترحيب إذا لم تكن هناك رسائل
            if (chatMessages.length === 0) {
                const welcomeMessage = {
                    id: 0,
                    chatId: chatId,
                    sender: 'النظام',
                    content: 'هذه بداية المحادثة. أرسل رسالة لبدء الدردشة!',
                    time: 'الآن',
                    sent: false
                };
                chatMessages.push(welcomeMessage);
            }
            
            // عرض الرسائل
            chatMessages.forEach(message => {
                const messageElement = document.createElement('div');
                messageElement.className = `message ${message.sent ? 'sent' : 'received'}`;
                
                messageElement.innerHTML = `
                    <div class="message-content">
                        ${!message.sent && message.sender !== 'النظام' ? `<div style="font-size: 12px; font-weight: 600; margin-bottom: 4px;">${message.sender}</div>` : ''}
                        <div>${message.content}</div>
                        <span class="message-time">${message.time}</span>
                    </div>
                `;
                
                messagesContainer.appendChild(messageElement);
            });
            
            // التمرير إلى الأسفل لرؤية أحدث الرسائل
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // فتح مجموعة معينة
        function openGroup(groupId) {
            const group = appData.groups.find(g => g.id === groupId);
            if (!group) return;
            
            // في تطبيق حقيقي، هنا ستنتقل إلى شاشة المجموعة
            // للتبسيط، سنفتحها كدردشة
            openChat(groupId);
        }

        // إعداد معالجات الأحداث
        function setupEventListeners() {
            // التنقل السفلي
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    const targetSection = this.dataset.section;
                    
                    // تحديث العنصر النشط
                    navItems.forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                    
                    // إخفاء جميع الأقسام
                    document.querySelectorAll('.content-section').forEach(section => {
                        section.classList.add('hidden');
                    });
                    
                    // إظهار القسم المطلوب
                    document.getElementById(targetSection).classList.remove('hidden');
                    
                    // إخفاء شاشة الدردشة إذا كانت مفتوحة
                    document.getElementById('chat-screen').classList.add('hidden');
                    
                    // إظهار شاشة الدردشات إذا لزم الأمر
                    if (targetSection === 'chats-section') {
                        document.getElementById('chats-section').classList.remove('hidden');
                    }
                });
            });
            
            // زر العودة من شاشة الدردشة
            document.getElementById('back-to-chats').addEventListener('click', function() {
                document.getElementById('chat-screen').classList.add('hidden');
                document.getElementById('chats-section').classList.remove('hidden');
            });
            
            // إرسال رسالة
            document.getElementById('send-message-btn').addEventListener('click', sendMessage);
            document.getElementById('message-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
            
            // أزرار الإعدادات
            document.getElementById('edit-profile-btn').addEventListener('click', function() {
                alert('ميزة تعديل الملف الشخصي قيد التطوير');
            });
            
            document.getElementById('privacy-btn').addEventListener('click', function() {
                alert('ميزة الخصوصية قيد التطوير');
            });
            
            document.getElementById('help-btn').addEventListener('click', function() {
                alert('مركز المساعدة قيد التطوير');
            });
            
            document.getElementById('about-btn').addEventListener('click', function() {
                alert('سيرك v1.0\nتطبيق شات جماعي\nالإصدار: 1.0.0\n© 2023 جميع الحقوق محفوظة');
            });
            
            // أزرار رأس التطبيق
            document.getElementById('search-btn').addEventListener('click', function() {
                alert('ميزة البحث قيد التطوير');
            });
            
            document.getElementById('add-contact-btn').addEventListener('click', function() {
                alert('ميزة إضافة جهة اتصال قيد التطوير');
            });
            
            document.getElementById('settings-btn').addEventListener('click', function() {
                // التبديل إلى شاشة الإعدادات
                navItems.forEach(nav => nav.classList.remove('active'));
                document.querySelector('.nav-item[data-section="settings-section"]').classList.add('active');
                
                document.querySelectorAll('.content-section').forEach(section => {
                    section.classList.add('hidden');
                });
                
                document.getElementById('settings-section').classList.remove('hidden');
                document.getElementById('chat-screen').classList.add('hidden');
            });
        }

        // إرسال رسالة جديدة
        function sendMessage() {
            const input = document.getElementById('message-input');
            const messageText = input.value.trim();
            
            if (!messageText) return;
            
            // إنشاء رسالة جديدة
            const newMessage = {
                id: appData.messages.length + 1,
                chatId: appData.currentChatId,
                sender: 'أنت',
                content: messageText,
                time: 'الآن',
                sent: true
            };
            
            // إضافة الرسالة إلى البيانات
            appData.messages.push(newMessage);
            
            // إضافة رد تلقائي (محاكاة)
            setTimeout(() => {
                const autoReply = {
                    id: appData.messages.length + 1,
                    chatId: appData.currentChatId,
                    sender: 'النظام',
                    content: 'تم استلام رسالتك. سيرد عليك قريبًا!',
                    time: 'الآن',
                    sent: false
                };
                
                appData.messages.push(autoReply);
                
                // تحديث الرسائل إذا كانت هذه الدردشة مفتوحة
                if (appData.currentChatId) {
                    loadMessages(appData.currentChatId);
                }
            }, 1000);
            
            // تحديث الرسائل على الشاشة
            loadMessages(appData.currentChatId);
            
            // مسح حقل الإدخال
            input.value = '';
            input.focus();
        }

        // إعداد مبدل اللغة
        function setupLanguageSwitcher() {
            document.getElementById('lang-ar').addEventListener('click', function() {
                if (appData.currentLanguage !== 'ar') {
                    switchLanguage('ar');
                }
            });
            
            document.getElementById('lang-en').addEventListener('click', function() {
                if (appData.currentLanguage !== 'en') {
                    switchLanguage('en');
                }
            });
        }

        // تبديل لغة التطبيق
        function switchLanguage(lang) {
            appData.currentLanguage = lang;
            
            // تحديث أزرار اللغة
            document.getElementById('lang-ar').classList.toggle('active', lang === 'ar');
            document.getElementById('lang-en').classList.toggle('active', lang === 'en');
            
            // تغيير اتجاه الصفحة
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
            document.documentElement.lang = lang;
            
            // تحديث النصوص حسب اللغة
            if (lang === 'en') {
                // تحديث النصوص إلى الإنجليزية
                document.querySelector('.logo h1').textContent = 'Circl';
                document.querySelector('.nav-item[data-section="chats-section"] span').textContent = 'Chats';
                document.querySelector('.nav-item[data-section="groups-section"] span').textContent = 'Groups';
                document.querySelector('.nav-item[data-section="profile-section"] span').textContent = 'Profile';
                document.querySelector('.nav-item[data-section="settings-section"] span').textContent = 'Settings';
                document.getElementById('chats-section').querySelector('h2').textContent = 'Chats';
                document.getElementById('groups-section').querySelector('h2').textContent = 'Groups';
                document.getElementById('settings-section').querySelector('h2').textContent = 'Settings';
                document.getElementById('message-input').placeholder = 'Type a message...';
                document.getElementById('user-status').textContent = 'Online now';
                document.getElementById('user-status').innerHTML = '<div style="display: flex; align-items: center; gap: 6px;"><div style="width: 10px; height: 10px; background-color: var(--success); border-radius: 50%;"></div> Online now</div>';
                document.querySelectorAll('.stat-label')[0].textContent = 'Friends';
                document.querySelectorAll('.stat-label')[1].textContent = 'Groups';
                document.querySelectorAll('.stat-label')[2].textContent = 'Messages';
                document.querySelector('.section-title').textContent = 'Account';
                document.querySelectorAll('.settings-text h3')[0].textContent = 'Edit Profile';
                document.querySelectorAll('.settings-text p')[0].textContent = 'Change photo and personal info';
                document.querySelectorAll('.settings-text h3')[1].textContent = 'Privacy';
                document.querySelectorAll('.settings-text p')[1].textContent = 'Manage privacy and security settings';
                document.querySelectorAll('.section-title')[1].textContent = 'App';
                document.querySelectorAll('.settings-text h3')[2].textContent = 'Notifications';
                document.querySelectorAll('.settings-text p')[2].textContent = 'Manage app notifications';
                document.querySelectorAll('.settings-text h3')[3].textContent = 'Appearance';
                document.querySelectorAll('.settings-text p')[3].textContent = 'Change app theme';
                document.querySelectorAll('.settings-text h3')[4].textContent = 'Language';
                document.querySelectorAll('.settings-text p')[4].textContent = 'Change app language';
                document.querySelectorAll('.section-title')[2].textContent = 'General';
                document.querySelectorAll('.settings-text h3')[5].textContent = 'Help & Support';
                document.querySelectorAll('.settings-text p')[5].textContent = 'Guide and help center';
                document.querySelectorAll('.settings-text h3')[6].textContent = 'About';
                document.querySelectorAll('.settings-text p')[6].textContent = 'App version and info';
            } else {
                // تحديث النصوص إلى العربية
                document.querySelector('.logo h1').textContent = 'سيرك | Circl';
                document.querySelector('.nav-item[data-section="chats-section"] span').textContent = 'الدردشات';
                document.querySelector('.nav-item[data-section="groups-section"] span').textContent = 'المجموعات';
                document.querySelector('.nav-item[data-section="profile-section"] span').textContent = 'الملف الشخصي';
                document.querySelector('.nav-item[data-section="settings-section"] span').textContent = 'الإعدادات';
                document.getElementById('chats-section').querySelector('h2').textContent = 'الدردشات';
                document.getElementById('groups-section').querySelector('h2').textContent = 'المجموعات';
                document.getElementById('settings-section').querySelector('h2').textContent = 'الإعدادات';
                document.getElementById('message-input').placeholder = 'اكتب رسالة...';
                document.getElementById('user-status').textContent = 'متصل الآن';
                document.getElementById('user-status').innerHTML = '<div style="display: flex; align-items: center; gap: 6px;"><div style="width: 10px; height: 10px; background-color: var(--success); border-radius: 50%;"></div> متصل الآن</div>';
                document.querySelectorAll('.stat-label')[0].textContent = 'الأصدقاء';
                document.querySelectorAll('.stat-label')[1].textContent = 'المجموعات';
                document.querySelectorAll('.stat-label')[2].textContent = 'الرسائل';
            }
        }

        // الحصول على لون للصورة الرمزية بناءً على النص
        function getAvatarColor(name) {
            const colors = [
                'linear-gradient(135deg, #6C63FF, #5A52D3)',
                'linear-gradient(135deg, #FF6584, #E05572)',
                'linear-gradient(135deg, #4CAF50, #3D8B40)',
                'linear-gradient(135deg, #FF9800, #E68900)',
                'linear-gradient(135deg, #2196F3, #0B7DDA)',
                'linear-gradient(135deg, #9C27B0, #7B1FA2)'
            ];
            
            // توليد رقم فريد من النص
            let hash = 0;
            for (let i = 0; i < name.length; i++) {
                hash = name.charCodeAt(i) + ((hash << 5) - hash);
            }
            
            // استخدام القيمة المطلقة والقياس
            const index = Math.abs(hash) % colors.length;
            return colors[index];
        }
    </script>
</body>
</html>
